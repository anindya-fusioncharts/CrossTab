!function(){"use strict";function t(t){this.drawcomponents=t}function i(t,i){this.drawComponents=t,this.parsedJSON=i}function e(t,e,r){var s;this.index=r,i.call(this,t,e),s=this.parsedJSON.chart.width,this.xAxisTickList=this.parsedJSON.TickList.xAxis,"date"==this.parsedJSON.chart.xAxisType?this.xDiff=this.parsedJSON.TickList.xAxis[this.parsedJSON.TickList.xAxis.length-1].getTime()-this.parsedJSON.TickList.xAxis[0].getTime():(this.interval=s/this.parsedJSON.TickList.xAxis.length,this.colPadding=this.interval/2-this.interval/5,this.interval=(s-2*this.colPadding)/(this.parsedJSON.TickList.xAxis.length-1)),this.yDiff=this.parsedJSON.TickList.yAxis[this.index][this.parsedJSON.TickList.yAxis[r].length-1]-this.parsedJSON.TickList.yAxis[this.index][0]}function r(t){this.parsedJSON=t,this.xDiff=this.parsedJSON.ticks.alterYaxis[this.parsedJSON.ticks.alterYaxis.length-1]-this.parsedJSON.ticks.alterYaxis[0]}function s(t,i,e,r,s,a,h){var n;return this.marginX=r,this.marginY=s,this.topMarginY=a,this.paddingX0=this.marginX,this.paddingY0=this.marginY,this.paddingX1=this.marginX-5,this.paddingY1=this.marginY-5,this.paddingX2=this.marginX-10,this.paddingY2=this.marginY-10,this.paddingTextX=this.marginX-30,this.paddingTextY=this.marginY-40,this.rootElement=document.getElementById(t),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.height=e,this.width=i,this.svg.setAttribute("class","chart"),this.svg.setAttribute("height",this.height),this.svg.setAttribute("width",this.width),void 0==h&&(n=Math.ceil(this.width/window.innerWidth*100),n+=.33*n,this.svg.setAttribute("style","width:"+n+"%;")),this.rootElement.appendChild(this.svg),this}function a(t,i){this._drawComponents=[],this._crossHair=[],this._anchors=[],this._tooltips=[],this._columns=[],this.selector=i,this.parsedJSON=w(t,i)}function h(t){var i;return i=Math.ceil(t.chart.width/window.innerWidth*100),i+=.32*i,b=Math.floor(100/i),t.chart.yMap.length%b!=0}function n(){N=document.createElement("div"),N.style.position="absolute",N.style.background="#727272",N.style.color="#727272",N.innerHTML="",N.style.opacity="0.3",N.id="selectSpace",N.style.left="0px",N.style.top="0px",document.body.appendChild(N)}function o(t,i,e,r){var s,a,h,n,o,c,d;if(c=i+5,d=e-5,a=t.bottomLimit,s=t.rightLimit,h=t.topLimit,o=r.tooltipWidth,n=r.tooltipHeight,s-25<i+o&&(c=i-o-10),e+n+5>a)for(d=e+n;d+n+5>=a;)d--;if(e<h+5)for(d=e;d<=h+15;)d++;return{pointX:c,pointY:d}}function c(t){var i;return Math.abs(t)>=1e3&&Math.abs(t)<1e6&&(i=t/1e3+"K"),Math.abs(t)>=1e6&&Math.abs(t)<1e9&&(i=t/1e6+"M"),Math.abs(t)>=1e9&&Math.abs(t)<1e12&&(i=t/1e9+"B"),Math.abs(t)>=1e12&&(i=t/1e12+"T"),i}function d(t){return Math.floor(t)!==t?t.toString().split(".")[1].length||0:0}function p(t){var i;do{i=!1;for(var e=0;e<t.length-1;e++)if(t[e][0]>t[e+1][0]){var r=t[e];t[e]=t[e+1],t[e+1]=r,i=!0}}while(i);return t}function g(t){for(var i,e,r,s=-9999999999,a=0,h=[],n=-1,o=0;o<t.length;o++)for(var c=0;c<t[o].length;c++)for(var d=0;d<t[o][c].length;d++)s<t[o][c][d][1]&&(s=t[o][c][d][1]);for(e=s;e;)r=Math.floor(e%10),e=Math.floor(e/10),n++;s=(r+1)*Math.pow(10,n),i=Math.abs(s-a)/4,h[0]=a;for(var o=1;o<=4;o++)h[o]=h[o-1]+i;return h}function l(t,i,e){t=t.substring(1,t.length),i=i.substring(1,i.length);var r=function(t){return t=t.toString(16),1==t.length?"0"+t:t},s=Math.ceil(parseInt(t.substring(0,2),16)*e+parseInt(i.substring(0,2),16)*(1-e)),a=Math.ceil(parseInt(t.substring(2,4),16)*e+parseInt(i.substring(2,4),16)*(1-e)),h=Math.ceil(parseInt(t.substring(4,6),16)*e+parseInt(i.substring(4,6),16)*(1-e)),n=r(s)+r(a)+r(h);return n}function f(t,i,e){var r=t.getTime()-i.getTime();return r<864e5&&t.getDate()==i.getDate()&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()?e.toString().split(" ")[4]:t.getDate()!=i.getDate()&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()?e.toString().split(" ")[0]:t.getMonth()!=i.getMonth()&&t.getFullYear()==i.getFullYear()?e.toString().split(" ")[1]+"'"+e.toString().split(" ")[2]:t.getFullYear()!=i.getFullYear()?e.getMonth()+1+"/"+e.toString().split(" ")[2]+"/"+e.toString().split(" ")[3][2]+e.toString().split(" ")[3][3]:e}function m(t,e,r){this.index=r,i.call(this,t,e),"date"==e.chart.xAxisType&&(this.xDiff=this.parsedJSON.TickList.xAxis[this.parsedJSON.TickList.xAxis.length-1].getTime()-this.parsedJSON.TickList.xAxis[0].getTime()),this.yDiff=this.parsedJSON.TickList.yAxis[this.index][this.parsedJSON.TickList.yAxis[r].length-1]-this.parsedJSON.TickList.yAxis[this.index][0]}function w(t,i){var e,r,s,a,h,n,o,c,d,g,l,f,x=[],m=[],w=[],u=[],y=[],S={};h=n=o=c=void 0;try{if(S.chart={},S.chart.type=v=t.chart.type,"line"==S.chart.type||"column"==S.chart.type){if(S.chart.caption=t.chart.caption||"",S.chart.subCaption=t.chart.subCaption||"",S.chart.height=t.chart.height||300,S.chart.height=S.chart.height>500||S.chart.height<200?300:S.chart.height,S.chart.width=t.chart.width||500,S.chart.width=S.chart.width>1e3||S.chart.width<200?500:S.chart.width,S.chart.type=t.chart.type||"line",S.chart.marginX=80,S.chart.marginY=50,S.chart.topMarginY=60,S.chart.animation=t.chart.animation,void 0==t.chart.xAxisMap)throw new Error("Chart can not be rendered<br>Error : xAxisMap value is needed");S.chart.xMap=t.chart.xAxisMap,S.chart.xAxisType="ordinal",S.TickList={},S.TickList.xAxis=[],S.TickList.yAxis=[];for(var b=0,N=0;b<t.data.length;b++){e=Object.keys(t.data[b]);for(var O=0;O<e.length;O++){r=0;for(var J=0;J<u.length;J++)u[J]==e[O]&&(r=1);0==r&&e[O]!=S.chart.xMap&&"string"!=typeof t.data[b][e[O]]&&(u[N]=e[O],N++)}}S.chart.yMap=u,S.data=[],l=1;for(var b=0;b<S.chart.yMap.length;b++){y[b]=[];for(var O=0,N=0,J=0;O<t.data.length;O++)if(void 0!=t.data[O][S.chart.yMap[b]]&&void 0!=t.data[O][S.chart.xMap]&&(y[b][N]=[],y[b][N][0]=t.data[O][S.chart.xMap],y[b][N][1]=t.data[O][S.chart.yMap[b]],g=new Date(y[b][N][0].toString()),"Invalid Date"==g&&(l=0),N++),0==b&&void 0!=t.data[O][S.chart.xMap]){f=0;for(var A=0,T=S.TickList.xAxis.length;A<T;A++)S.TickList.xAxis[A]==t.data[O][S.chart.xMap]&&(f=1);0==f&&(S.TickList.xAxis[J++]=t.data[O][S.chart.xMap])}}if(1==l){for(var b=0,T=y.length;b<T;b++){for(var O=0,M=y[b].length;O<M;O++)y[b][O][0]=new Date(y[b][O][0].toString()).getTime();y[b]=p(y[b])}S.chart.xAxisType="date"}}else{if("crosstab"!=S.chart.type)throw new Error("Chart type not supported.");if(!t.chart.category_name)throw new Error("Chart can not be rendered");S.chart.titles=t.chart.titles,S.chart.tab_titles=t.chart.tab_titles,S.chart.category_name=t.chart.category_name,S.chart.sub_category_name=t.chart.sub_category_name,S.chart.numberprefix=t.chart.numberprefix,S.chart.maxProfitColor=t.chart.maxProfitColor,S.chart.minProfitColor=t.chart.minProfitColor,S.chart.maxLossColor=t.chart.maxLossColor,S.chart.minLossColor=t.chart.minLossColor,S.data=[];for(var b=0,N=0;b<t.data.length;b++){r=0,void 0==x[0]&&(x[0]=t.data[0][S.chart.tab_titles]);for(var O=0;O<x.length;O++)x[O]==t.data[b][S.chart.tab_titles]&&(r=1);0==r&&(x[O]=t.data[b][S.chart.tab_titles]),s=0,void 0==m[0]&&(m[0]=t.data[0].category);for(var O=0;O<m.length;O++)m[O]==t.data[b].category&&(s=1);0==s&&(m[O]=t.data[b].category)}x.sort(),S.chart.tab_titlesList=[],S.chart.tab_titlesList=x,S.chart.categoryList=[],S.chart.categoryList=m;for(var b=0;b<m.length;b++){w[b]=[];for(var O=0,N=0;O<t.data.length;O++){0==N&&t.data[O].category==m[b]&&(w[b][0]=t.data[O].sub_category,N++),a=0;for(var L=0;L<w[b].length;L++)w[b][L]==t.data[O].sub_category&&t.data[O].category==m[b]&&(a=1);0==a&&t.data[O].category==m[b]&&(w[b][N]=t.data[O].sub_category,N++)}}S.chart.subCategoryList=[],S.chart.subCategoryList=w;for(var b=0;b<m.length;b++){y[b]=[];for(var O=0;O<x.length;O++){y[b][O]=[];for(var N=0;N<w[b].length;N++){for(var J=0;J<t.data.length;J++)if(t.data[J].category==m[b]&&t.data[J].sub_category==w[b][N]&&t.data[J][S.chart.tab_titles]==x[O]){y[b][O][N]=[],y[b][O][N][0]=t.data[J]["Sum of Profit"],y[b][O][N][1]=t.data[J]["Sum of Sales"];break}J==t.data.length&&(y[b][O][N]=[],y[b][O][N][0]=void 0,y[b][O][N][1]=void 0)}y[b][O][w[b].length]=[],y[b][O][w[b].length][0]=0,y[b][O][w[b].length][1]=0;for(var N=0;N<w[b].length;N++)void 0==y[b][O][N][0]&&void 0==y[b][O][N][1]||(y[b][O][w[b].length][0]+=y[b][O][N][0],y[b][O][w[b].length][1]+=y[b][O][N][1]);0==y[b][O][w[b].length][1]&&(y[b][O][w[b].length][1]=void 0,y[b][O][w[b].length][0]=void 0)}}for(var b=0;b<m.length;b++)w[b][w[b].length]="Total";for(var b=0;b<y.length;b++)for(var O=0;O<y[b].length;O++)for(var N=0;N<y[b][O].length;N++)void 0!=y[b][O][N][1]&&(y[b][O][N][0]>=0?(void 0==h&&void 0==o&&(h=o=100*y[b][O][N][0]/y[b][O][N][1]),d=(100*Math.abs(y[b][O][N][0])/y[b][O][N][1]).toFixed(2),h<d&&(h=d),o>d&&(o=d)):(void 0==n&&void 0==c&&(n=c=(100*Math.abs(y[b][O][N][0])/y[b][O][N][1]).toFixed(2)),d=(100*Math.abs(y[b][O][N][0])/y[b][O][N][1]).toFixed(2),n<d&&(n=d),c>d&&(c=d)));S.maxProfitPrcnt=h,S.minProfitPrcnt=o,S.maxLossPrcnt=n,S.minLossPrcnt=c}S.data=y}catch(t){document.getElementById(i).innerHTML=t.message}return S}function u(t,i,e,r){var s="stroke:#8D6D60 ;stroke-width:1; fill:#FDD9CB",a="fill: #8D6D60",h=t.drawRect(i.x+5,i.y,e,10,0,s),n=t.drawText(i,"","",r,0);return n.graphics.setAttribute("style",a),t.svg.insertBefore(h.graphics,n.graphics),{rect:h,text:n}}function y(i,e,r,s){this.parsedJSON=i,this.chartCount=r,this.tickPosDown=s,t.call(this,e)}function S(i,e,r,s){this.parsedJSON=i,this.iChart=r,this.tickPosDown=s,t.call(this,e)}i.prototype.drawChartHeading=function(t,i){var e,r=i.chart.width*Math.ceil(window.innerWidth/(1.32*i.chart.width))-.33*i.chart.width,a=new s(t,r,50,i.chart.marginX,i.chart.marginY,0,"Heading");e={x:a.width-Math.floor(.53*a.width),y:20},a.drawText(e,".35em",i.chart.caption,"Caption"),e={x:a.width-Math.floor(.53*a.width),y:40},a.drawText(e,".35em",i.chart.subCaption,"subCaption");var h=document.createElement("br");document.getElementById(t).appendChild(h)},i.prototype.drawSelectSpace=function(t,i){N.style.left="0px",N.style.top="0px",N.style.width="0px",N.style.height="0px",A=!0,this.reset(t);var e=i.clientX,r=i.pageY;N.style.left=e+"px",N.style.top=r+"px",O=e,J=r},i.prototype.resizeSelectSpace=function(t,i){var e,r;A&&(e=parseInt(N.style.left),r=parseInt(N.style.top),O>i.clientX?(N.style.left=Math.abs(i.clientX)+"px",N.style.width=Math.abs(O-i.clientX)+"px"):N.style.width=Math.abs(e-i.clientX)+"px",J>i.pageY?(N.style.top=Math.abs(i.pageY)+"px",N.style.height=Math.abs(J-i.pageY)+"px"):N.style.height=Math.abs(r-i.pageY)+"px",this.select(t))},i.prototype.destroySelectSpace=function(t){A=!1,N.style.left="0px",N.style.top="0px",N.style.width="0px",N.style.height="0px"},e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.col=function(t){var i,e,r,s,a,h,n,o,c,d=[],p=this.drawComponents.coordinate(0,0),g=this.drawComponents.width+this.drawComponents.marginX;if("date"==this.parsedJSON.chart.xAxisType){r=0;for(var l=1;l<this.parsedJSON.data[0].length;l++)t<2?(r=Math.abs(r-this.drawComponents.xShift(this.parsedJSON.data[0][l-1][0],this.parsedJSON.TickList.xAxis[0].getTime(),this.xDiff)),t++):(s=Math.abs(this.drawComponents.xShift(this.parsedJSON.data[0][l-1][0],this.parsedJSON.TickList.xAxis[0].getTime(),this.xDiff)-this.drawComponents.xShift(this.parsedJSON.data[0][l][0],this.parsedJSON.TickList.xAxis[0].getTime(),this.xDiff)),r>s&&(r=s));r=Math.floor(r/2.2)}i=parseInt(this.drawComponents.svg.getBoundingClientRect().left),e=parseInt(this.drawComponents.svg.getBoundingClientRect().top);for(var l=0;l<this.parsedJSON.data[this.index].length;l++)o="date"==this.parsedJSON.chart.xAxisType?this.drawComponents.xShift(this.parsedJSON.data[this.index][l][0],this.parsedJSON.TickList.xAxis[0].getTime(),this.xDiff):this.xAxisTickList.indexOf(this.parsedJSON.data[this.index][l][0])*this.interval+this.colPadding,c=this.drawComponents.yShift(this.parsedJSON.data[this.index][l][1],this.parsedJSON.TickList.yAxis[this.index][0],this.yDiff),a=this.drawComponents.coordinate(o,c),h="date"==this.parsedJSON.chart.xAxisType?r%2==0?r:r-1:this.colPadding-this.colPadding/4,o=a.x-h/2,"date"==this.parsedJSON.chart.xAxisType&&(o<p.x&&(o=o+Math.abs(o-p.x)-.5),o+h>g&&(o-=Math.abs(o+h-g))),n=Math.abs(a.y-p.y),0==n&&(a.y-=3,n=3),d[l]=this.drawComponents.drawRect(o,a.y,"column",n,h,"",this.parsedJSON.data[this.index][l][1],i+o,e+a.y);return d},e.prototype.disPatchMouseOver=function(t,i,e,r){T.detail.x=t,T.detail.y=i;for(var s=0;s<e.length;s++)for(var a=0;a<e[s].length;a++)e[s][a].graphics.dispatchEvent(T)},e.prototype.highlightColumn=function(t,i,e,r){var s,a,h=r.detail.x,n=r.detail.y;a=25,s=10;for(var o,c,d,p,g=e.topLimit,l=e.bottomLimit,f=e.rightLimit,x=e.leftLimit,m=0,w=t.length;m<w;m++)for(var u=0,y=t[m].length;u<y;u++)if(t[m][u].config.x==h){if(t[m][u].graphics.setAttribute("style","fill:#B74947;"),i[m].text.graphics.innerHTML=t[m][u].config.value,o=t[m][u].config.value.toString().length,c=o*s+2*s,i[m].rect.graphics.setAttribute("width",c.toString()),i[m].rect.graphics.setAttribute("height",a),n=t[m][u].config.y,d=Number(h)+10,p=n-5,f-15<h+c&&(d=h-c),x+20>d&&(d=h+x-d+15),n+a>l)for(p=n+a;p+a-5>=l;)p--;if(n<g+5)for(p=n;p<=g+25;)p++;i[m].rect.graphics.setAttribute("x",d),i[m].rect.graphics.setAttribute("y",p-10),i[m].text.graphics.setAttribute("x",d+Math.floor((c-o*s)/2)),i[m].text.graphics.setAttribute("y",p+7),i[m].rect.graphics.setAttribute("visibility","visible"),i[m].text.graphics.setAttribute("visibility","visible")}},e.prototype.unfocus=function(t,i,e){for(var r=0,s=t.length;r<s;r++)for(var a=0,h=t[r].length;a<h;a++)t[r][a].graphics.setAttribute("style","fill:#3E72CC;"),i[r].rect.graphics.setAttribute("visibility","hidden"),i[r].text.graphics.setAttribute("visibility","hidden")},e.prototype.reset=function(t){for(var i=0,e=t.length;i<e;i++)for(var r=0,s=t[i].length;r<s;r++)t[i][r].graphics.setAttribute("style","fill:#3E72CC")},e.prototype.select=function(t){var i,e,r,s,a=parseInt(N.style.left),h=parseInt(N.style.top),n=a+parseInt(N.style.width),o=h+parseInt(N.style.height),c=-1,d=99999,p=0;for(t.length;p<t.length;p++)for(var g=0,l=t[p].length;g<l;g++)i=Number(t[p][g].config.absoluteX),e=Number(t[p][g].config.absoluteY),r=Number(t[p][g].config.height),s=Number(t[p][g].config.width),a<i+s&&n>i&&h<e+r&&o>e?(t[p][g].graphics.setAttribute("style","fill:#B74947"),d>=Number(t[p][g].config.x)&&(d=Number(t[p][g].config.x)),c<Number(t[p][g].config.x)&&(c=Number(t[p][g].config.x))):t[p][g].graphics.setAttribute("style","fill:#3E72CC");var p=0;for(t.length;p<t.length;p++)for(var g=0,l=t[p].length;g<l;g++)Number(t[p][g].config.x)>=d&&Number(t[p][g].config.x)<=c&&t[p][g].graphics.setAttribute("style","fill:#B74947")},r.prototype.header=function(t,i){var e,r,s,a=1;this.widthPerSection=i,r=t.coordinate(t.marginX-11,1),s=t.coordinate(t.width,1),t.drawLine(r,s,"headerline"),e=t.coordinate(t.marginX,10),t.drawText(e,"",this.parsedJSON.chart.category_name,"headerText"),e=t.coordinate(.45*this.widthPerSection,10),t.drawText(e,"",this.parsedJSON.chart.sub_category_name,"headerText"),r=t.coordinate(a*this.widthPerSection-11,0),s=t.coordinate(a*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline");for(var h=0;h<this.parsedJSON.chart.tab_titlesList.length;h++)e=t.coordinate(a*this.widthPerSection+this.widthPerSection/2-11,10),t.drawText(e,"",this.parsedJSON.chart.tab_titlesList[h],"tab_titles"),a++,r=t.coordinate(a*this.widthPerSection-11,0),s=t.coordinate(a*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline");r=t.coordinate(a*this.widthPerSection-11,0),s=t.coordinate(a*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline")},r.prototype.category=function(t,i,e,r){var s,a,h,n;s=t.coordinate(t.marginX,t.height-20),t.drawText(s,"",i,"categoryText");for(var o=0;o<e.length;o++)n="Total"==e[o]?"HighlightedText":"categoryText",s=t.coordinate(.45*this.widthPerSection,t.height-20-o*r),t.drawText(s,"",e[o],n);a=t.coordinate(t.marginX-11,1),h=t.coordinate(this.widthPerSection,1),t.drawLine(a,h,"sectionline"),a=t.coordinate(this.widthPerSection-11,0),h=t.coordinate(this.widthPerSection-11,t.height+20),t.drawLine(a,h,"sectionline")},r.prototype.chartArea=function(t,i,e,r){var s,a,h,n,o,c,d,p,g;for(c=Math.abs(this.parsedJSON.maxLossPrcnt-this.parsedJSON.minLossPrcnt)/this.parsedJSON.chart.numberOfColorVarient,d=Math.abs(this.parsedJSON.maxProfitPrcnt-this.parsedJSON.minProfitPrcnt)/this.parsedJSON.chart.numberOfColorVarient,s=t.coordinate(t.marginX,1),a=t.coordinate(this.widthPerSection,1),t.drawLine(s,a,"sectionline"),s=t.coordinate(this.widthPerSection-1,0),a=t.coordinate(this.widthPerSection-1,t.height+20),t.drawLine(s,a,"sectionline"),g=0;g<this.parsedJSON.data[e][r].length;g++)void 0!=this.parsedJSON.data[e][r][g][1]&&(s=t.coordinate(0,t.height-7-g*i),a=t.coordinate(t.xShift(this.parsedJSON.data[e][r][g][1],this.parsedJSON.ticks.alterYaxis[0],this.xDiff),t.height-20-g*i),h=Math.abs(s.x-a.x),this.parsedJSON.data[e][r][g][0]<0&&(p=Math.abs(this.parsedJSON.data[e][r][g][0])/this.parsedJSON.data[e][r][g][1],n="#"+l(this.parsedJSON.chart.maxLossColor,this.parsedJSON.chart.minLossColor,p)),this.parsedJSON.data[e][r][g][0]>=0&&(p=this.parsedJSON.data[e][r][g][0]/this.parsedJSON.data[e][r][g][1],n="#"+l(this.parsedJSON.chart.maxProfitColor,this.parsedJSON.chart.minProfitColor,p)),o="stroke:"+n+";fill:"+n,t.drawRect(s.x,s.y,"bar",15,h,o))},r.prototype.footer=function(t,i){var e,r,s,a,h,n=1;this.widthPerSection=i,r=t.coordinate(n*this.widthPerSection-11,0),s=t.coordinate(n*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline"),a=this.widthPerSection/(this.parsedJSON.ticks.alterYaxis.length-1);for(var o=0;o<this.parsedJSON.chart.tab_titlesList.length;o++){n++;for(var d=0;d<this.parsedJSON.ticks.alterYaxis.length;d++)r=t.coordinate((n-1)*this.widthPerSection-11+d*a,t.height-10),s=t.coordinate((n-1)*this.widthPerSection-11+d*a,t.height),t.drawLine(r,s,"footerline"),h=this.parsedJSON.ticks.alterYaxis[d]>=1e3?c(this.parsedJSON.ticks.alterYaxis[d]):this.parsedJSON.ticks.alterYaxis[d],0==d&&(e=t.coordinate((n-1)*this.widthPerSection-7+d*a,t.height-25),t.drawText(e,"",h,"yaxisticksText")),d>=1&&d<this.parsedJSON.ticks.alterYaxis.length-1&&(e=t.coordinate((n-1)*this.widthPerSection-20+d*a,t.height-25),t.drawText(e,"",h,"yaxisticksText")),e=t.coordinate((n-1)*this.widthPerSection-11+this.widthPerSection/2,t.height-60),t.drawText(e,"",this.parsedJSON.chart.titles,"title");r=t.coordinate(n*this.widthPerSection-11,0),s=t.coordinate(n*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline")}r=t.coordinate(n*this.widthPerSection-11,0),s=t.coordinate(n*this.widthPerSection-11,t.height),t.drawLine(r,s,"headerline")},s.prototype.coordinate=function(t,i){return{x:t+this.marginX,y:this.height-(i+this.marginY)}},s.prototype.xShift=function(t,i,e){return Math.floor((t-i)/e*this.width)},s.prototype.yShift=function(t,i,e){return Math.floor((t-i)/e*(this.height-this.marginY-7-this.topMarginY))},s.prototype.drawLine=function(t,i,e){var r=document.createElementNS("http://www.w3.org/2000/svg","line");return r.setAttribute("x1",t.x),r.setAttribute("y1",t.y),r.setAttribute("x2",i.x),r.setAttribute("y2",i.y),r.setAttribute("class",e),this.svg.appendChild(r),{config:{x1:t.x,y1:t.y,x2:i.x,y2:i.y},graphics:r}},s.prototype.drawText=function(t,i,e,r,s){var a=document.createElementNS("http://www.w3.org/2000/svg","text");if(a.setAttribute("x",t.x.toString()),a.setAttribute("y",t.y.toString()),a.innerHTML=e,a.setAttribute("fill","#555"),s){var h="rotate("+s+" "+t.x.toString()+","+t.y.toString()+")";a.setAttribute("transform",h)}return a.setAttribute("class",r),this.svg.appendChild(a),{config:{x:t.x,y:t.y},graphics:a}},s.prototype.drawPolygon=function(t,i){var e=document.createElementNS("http://www.w3.org/2000/svg","polyline");return e.setAttribute("points",t),e.setAttribute("class",i),this.svg.appendChild(e),{config:{points:t},graphics:e}},s.prototype.drawPath=function(t,i,e,r){var s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d",t),s.setAttribute("class",i),s.setAttribute("style","stroke:#1e7ac9; stroke-width:3; fill:transparent"),this.svg.appendChild(s),{config:{path:t,immediatePoints:"",finalPoints:e,y:r},graphics:s}},s.prototype.drawCircle=function(t,i,e,r,s,a,h){var n=document.createElementNS("http://www.w3.org/2000/svg","circle");return n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r",i),n.setAttribute("fill","#ffffff"),n.setAttribute("Xdata",r),n.setAttribute("Ydata",s),n.setAttribute("absoluteX",a),n.setAttribute("absoluteY",h),n.setAttribute("class",e),this.svg.appendChild(n),{config:{cx:t.x,cy:t.y,r:i,Ydata:s,Xdata:r,absoluteX:a,absoluteY:h},graphics:n}},s.prototype.drawRect=function(t,i,e,r,s,a,h,n,o){var c=document.createElementNS("http://www.w3.org/2000/svg","rect");return a=a||"stroke:#3E72CC;fill:#3E72CC",h=h||"",c.setAttribute("x",t),c.setAttribute("y",i),c.setAttribute("height",r),c.setAttribute("width",s),c.setAttribute("style",a),c.setAttribute("class",e),c.setAttribute("value",h),c.setAttribute("absoluteX",n),c.setAttribute("absoluteY",o),this.svg.appendChild(c),{config:{x:t,y:i,height:r,width:s,value:h,absoluteX:n,absoluteY:o},graphics:c}},a.prototype.render=function(){"line"==this.parsedJSON.chart.type&&this.lineChart(),"column"==this.parsedJSON.chart.type&&this.columnChart(),"crosstab"==this.parsedJSON.chart.type&&this.crossTab()},a.prototype.lineChart=function(){var t,i,e,r,a,o={},c=this,d=[];"function"==typeof this.customSort&&this.customSort(),i=h(this.parsedJSON),i?(this.parsedJSON.chart.marginY=45,this.parsedJSON.chart.topMarginY=75):(this.parsedJSON.chart.marginY=75,this.parsedJSON.chart.topMarginY=45),n(),m.prototype.drawChartHeading.call(c,this.selector,this.parsedJSON),t=this.parsedJSON.chart.yMap.length;for(var p=0;p<t;p++)this._anchors[p]=[],this._drawComponents[p]=new s(this.selector,this.parsedJSON.chart.width,this.parsedJSON.chart.height,this.parsedJSON.chart.marginX,this.parsedJSON.chart.marginY,this.parsedJSON.chart.topMarginY),e=new S(this.parsedJSON,this._drawComponents[p],p,i),r=new y(this.parsedJSON,this._drawComponents[p],p+1,i),0==p&&("date"==this.parsedJSON.chart.xAxisType&&(this.parsedJSON.TickList.xAxis=r.dateRangeTicks()),this.parsedJSON.TickList.yAxis=e.yRangeTicks()),e.draw(),r.draw(),a=new m(this._drawComponents[p],this.parsedJSON,p),d[p]=a.path(),this._anchors[p]=a.anchor(),this._crossHair[p]=a.crossHair(),o.x=0,o.y=0,this._tooltips[p]=u(this._drawComponents[p],o,"tooltip","tooltipText"),this._crossHair[p]._chartArea.graphics.addEventListener("mouserollover",a.syncCrossHair.bind(null,this._anchors,this._crossHair,this._tooltips,this.parsedJSON.chart.marginX)),this._crossHair[p]._chartArea.graphics.addEventListener("mouseout",a.hideCrossHair.bind(null,this._anchors,this._crossHair,this._tooltips)),this._drawComponents[p].svg.addEventListener("mousedown",a.drawSelectSpace.bind(a,this._anchors)),this._drawComponents[p].svg.addEventListener("mousemove",a.resizeSelectSpace.bind(a,this._anchors)),this._drawComponents[p].svg.addEventListener("mouseup",a.destroySelectSpace.bind(null)),this._drawComponents[p].svg.addEventListener("mouseleave",a.destroySelectSpace.bind(null)),1==this.parsedJSON.chart.animation&&a.animatePath(d[p],this._anchors[p])},a.prototype.columnChart=function(){var t,i,r,a,o,c,d={},p=0,g=this;"function"==typeof this.customSort&&this.customSort(),i=h(this.parsedJSON),i?(this.parsedJSON.chart.marginY=45,this.parsedJSON.chart.topMarginY=75):(this.parsedJSON.chart.marginY=75,this.parsedJSON.chart.topMarginY=45),n(),c={topLimit:this.parsedJSON.chart.marginY,bottomLimit:this.parsedJSON.chart.height-this.parsedJSON.chart.marginY,rightLimit:this.parsedJSON.chart.width,leftLimit:this.parsedJSON.chart.marginX},e.prototype.drawChartHeading.call(g,this.selector,this.parsedJSON),t=this.parsedJSON.chart.yMap.length;for(var l=0;l<t;l++){this._anchors[l]=[],this._drawComponents[l]=new s(this.selector,this.parsedJSON.chart.width,this.parsedJSON.chart.height,this.parsedJSON.chart.marginX,this.parsedJSON.chart.marginY,this.parsedJSON.chart.topMarginY),r=new S(this.parsedJSON,this._drawComponents[l],l,i),a=new y(this.parsedJSON,this._drawComponents[l],l+1,i),0==l&&("date"==this.parsedJSON.chart.xAxisType&&(this.parsedJSON.TickList.xAxis=a.dateRangeTicks()),this.parsedJSON.TickList.yAxis=r.yRangeTicks()),r.draw(),a.draw(),o=new e(this._drawComponents[l],this.parsedJSON,l),this._columns[l]=o.col(p),d.x=0,d.y=0,this._tooltips[l]=u(this._drawComponents[l],d,"tooltip","tooltipText"),this._drawComponents[l].svg.addEventListener("mousedown",o.drawSelectSpace.bind(o,this._columns)),this._drawComponents[l].svg.addEventListener("mousemove",o.resizeSelectSpace.bind(o,this._columns)),this._drawComponents[l].svg.addEventListener("mouseup",o.destroySelectSpace.bind(null,"column")),this._drawComponents[l].svg.addEventListener("mouseleave",o.destroySelectSpace.bind(null,"column"));for(var f=0;f<this._columns[l].length;f++)this._columns[l][f].graphics.addEventListener("mousemove",o.disPatchMouseOver.bind(null,this._columns[l][f].config.x,this._columns[l][f].config.y,this._columns)),this._columns[l][f].graphics.addEventListener("mouserollover",o.highlightColumn.bind(null,this._columns,this._tooltips,c),!1),this._columns[l][f].graphics.addEventListener("mouseout",o.unfocus.bind(null,this._columns,this._tooltips),!1)}},a.prototype.crossTab=function(){var t=0,i=0,e=30,a=30,h=70;this._drawComponentsCharts=[],this.parsedJSON.ticks={},this.parsedJSON.ticks.alterYaxis=g(this.parsedJSON.data),this.parsedJSON.ticks.ordinalAlterXaxis=this.parsedJSON.chart.subCategoryList,this.widthScreen=window.innerWidth-60,this.widthPerSubChart=Math.ceil(this.widthScreen/(this.parsedJSON.chart.tab_titlesList.length+1));var n=new r(this.parsedJSON);this._drawComponents[t]=new s(this.selector,this.widthScreen,a,10,0,0,"noPercent"),n.header(this._drawComponents[t],this.widthPerSubChart),t++;for(var o=0;o<this.parsedJSON.chart.categoryList.length;o++){this._drawComponents[t]=new s(this.selector,this.widthPerSubChart,e*this.parsedJSON.chart.subCategoryList[o].length,10,0,0,"noPercent"),n.category(this._drawComponents[t],this.parsedJSON.chart.categoryList[o],this.parsedJSON.chart.subCategoryList[o],e);for(var c=0;c<this.parsedJSON.chart.tab_titlesList.length;c++)this._drawComponentsCharts[i]=new s(this.selector,this.widthPerSubChart,e*this.parsedJSON.chart.subCategoryList[o].length,0,0,0,"noPercent"),n.chartArea(this._drawComponentsCharts[i],e,o,c),i++;t++}this._drawComponents[t]=new s(this.selector,this.widthScreen,h,10,0,0,"noPercent"),n.footer(this._drawComponents[t],this.widthPerSubChart)};var b,v,N,O,J,A=!1,T=new CustomEvent("mouserollover",{detail:{x:"",y:"",left:""}});window.onresize=function(){location.reload()},m.prototype=Object.create(i.prototype),m.prototype.constructor=m,m.prototype.path=function(){var t,i,e,r,s={},a=[],h=(this.parsedJSON.chart.marginX,this.parsedJSON.chart.width),n=this.parsedJSON.TickList.xAxis,o=this.parsedJSON.chart.height,c=this.parsedJSON.chart.marginY,d=this.parsedJSON.chart.topMarginY,p=h/(this.parsedJSON.TickList.xAxis.length-1);midY=(o-c+d)/2,r="M";for(var g=0;g<this.parsedJSON.data[this.index].length;g++)t=this.parsedJSON.data[this.index][g][0],i=this.parsedJSON.data[this.index][g][1],"date"==this.parsedJSON.chart.xAxisType?s.x=this.drawComponents.xShift(t,this.parsedJSON.TickList.xAxis[0],this.xDiff):s.x=n.indexOf(t)*p,s.y=this.drawComponents.yShift(i,this.parsedJSON.TickList.yAxis[this.index][0],this.yDiff),s=this.drawComponents.coordinate(s.x,s.y),r=r+s.x+" "+s.y+", ",a[g]={},a[g].x=s.x,a[g].y=s.y;return 1==this.parsedJSON.chart.animation&&(r="M",r=r+a[0].x+" "+midY+", "+a[a.length-1].x+" "+midY),e=this.drawComponents.drawPath(r,"path",a,midY)},m.prototype.animatePath=function(t,i){var e,r,s,a,h=100,n=[],o=[];r=t.config.y,e=t.config.finalPoints;for(var c=0,d=e.length;c<d;c++)o[c]={},o[c].x=e[c].x,o[c].y=r,n[c]=(e[c].y-r)/h;var p=setInterval(function(){s="M",a=1;for(var h=0,c=e.length;h<c;h++)r<e[h].y&&o[h].y<=e[h].y?(o[h].y=o[h].y+n[h],s=s+o[h].x+" "+o[h].y+",",a=0):r>e[h].y&&o[h].y>=e[h].y?(o[h].y=o[h].y+n[h],s=s+o[h].x+" "+o[h].y+",",a=0):s=s+o[h].x+" "+o[h].y+",";if(1==a){clearInterval(p);for(var h=0,c=i.length;h<c;h++)setTimeout(function(){i[this].graphics.setAttribute("visibility","visible")}.bind(h),2e3*Math.random())}else t.graphics.setAttribute("d",s)},10)},m.prototype.anchor=function(){var t,i,e,r,s,a={},h=(this.parsedJSON.chart.marginX,this.parsedJSON.chart.width),n=this.parsedJSON.TickList.xAxis;s=h/(this.parsedJSON.TickList.xAxis.length-1),this.anchor=[],e=parseInt(this.drawComponents.svg.getBoundingClientRect().left),r=parseInt(this.drawComponents.svg.getBoundingClientRect().top);for(var o=0;o<this.parsedJSON.data[this.index].length;o++)t=this.parsedJSON.data[this.index][o][0],"date"==this.parsedJSON.chart.xAxisType?a.x=this.drawComponents.xShift(t,n[0],this.xDiff):a.x=n.indexOf(t)*s,i=this.parsedJSON.data[this.index][o][1],a.y=this.drawComponents.yShift(i,this.parsedJSON.TickList.yAxis[this.index][0],this.yDiff),a=this.drawComponents.coordinate(a.x,a.y),this.anchor[o]=this.drawComponents.drawCircle(a,5,"plotPoint",t,i,e+a.x,r+a.y),1==this.parsedJSON.chart.animation&&this.anchor[o].graphics.setAttribute("visibility","hidden");return this.anchor},m.prototype.chartArea=function(){var t,i,e,r,s,a,h={};return t=0,i=this.parsedJSON.TickList.yAxis[this.index][this.parsedJSON.TickList.yAxis[this.index].length-1],h.x=t,h.y=this.drawComponents.yShift(i,this.parsedJSON.TickList.yAxis[this.index][0],this.yDiff),h=this.drawComponents.coordinate(h.x,h.y+3),r=Math.abs(this.parsedJSON.chart.width),e=Math.abs(this.parsedJSON.chart.height-this.parsedJSON.chart.topMarginY-this.parsedJSON.chart.marginY),s=this.drawComponents.drawRect(h.x,h.y,"chartArea",e,r,"stroke:#black; fill:transparent"),a=s.graphics.getBoundingClientRect().left,s.graphics.addEventListener("mousemove",function(){T.detail.x=Math.ceil(event.clientX-a),s.graphics.dispatchEvent(T)}),s},m.prototype.hairLine=function(){var t,i,e={},r={};return t=this.parsedJSON.TickList.yAxis[this.index][this.parsedJSON.TickList.yAxis[this.index].length-1],e.x=0,e.y=this.drawComponents.yShift(t,this.parsedJSON.TickList.yAxis[this.index][0],this.yDiff),e=this.drawComponents.coordinate(e.x,e.y),r.x=e.x,r.y=e.y+Math.abs(this.parsedJSON.chart.height-this.parsedJSON.chart.topMarginY-this.parsedJSON.chart.marginY)-6,i=this.drawComponents.drawLine(e,r,"HairLine")},m.prototype.crossHair=function(){var t,i;return t=this.chartArea(),i=this.hairLine(),i.graphics.setAttribute("visibility","hidden"),{_chartArea:t,_hairLine:i}},m.prototype.syncCrossHair=function(t,i,e,r,s){var a,r,h,n,c,d,p,g,l,f,x,m,w,u,y,S,b,v,h,N,O,J,A,T,M,L,C,_,Y,k,P,X={},D={};L=10,C=25,h=s.detail.x+r;for(var E=0,I=i.length;E<I;E++){i[E]._hairLine.graphics.setAttribute("visibility","visible"),i[E]._hairLine.graphics.setAttribute("x1",h),i[E]._hairLine.config.x1=h,i[E]._hairLine.graphics.setAttribute("x2",h),i[E]._hairLine.config.x2=h,e[E].rect.graphics.setAttribute("visibility","hidden"),e[E].text.graphics.setAttribute("visibility","hidden"),A=parseInt(i[E]._chartArea.config.x),T=parseInt(i[E]._chartArea.config.width),N=parseInt(i[E]._hairLine.config.x1),O=parseInt(i[E]._hairLine.config.y1),J=parseInt(i[E]._hairLine.config.y2),b=A,v=A+T,u=O,y=J,X.bottomLimit=y,X.rightLimit=v,X.topLimit=u,D.tooltipHeight=C;for(var H=0;H<t[E].length;H++)a=t[E][H].config.cx,Y=t[E][H].config.r,h-Y<=a&&h+Y>=a?(t[E][H].graphics.setAttribute("r",6),t[E][H].config.r=6,t[E][H].graphics.setAttribute("style","fill:#f44336"),e[E].text.graphics.innerHTML=t[E][H].config.Ydata,M=t[E][H].config.Ydata.toString().length,_=M*L+2*L,e[E].rect.graphics.setAttribute("width",_.toString()),e[E].rect.graphics.setAttribute("height",C),D.tooltipWidth=_,S=t[E][H].config.cx,w=t[E][H].config.cy,k=o(X,S,w,D),e[E].rect.graphics.setAttribute("x",k.pointX),e[E].rect.graphics.setAttribute("y",k.pointY-10),e[E].text.graphics.setAttribute("x",k.pointX+Math.floor((_-M*L)/2)),e[E].text.graphics.setAttribute("y",k.pointY+7),e[E].rect.graphics.setAttribute("visibility","visible"),e[E].text.graphics.setAttribute("visibility","visible")):(t[E][H].graphics.setAttribute("r",5),
t[E][H].config.r=5,t[E][H].graphics.setAttribute("style","fill:#ffffff"),H>0&&t[E][H-1].config.cx<h&&t[E][H].config.cx>h&&(p=t[E][H-1].config.cx,l=t[E][H-1].config.cy,g=t[E][H].config.cx,f=t[E][H].config.cy,c=((f-l)/(g-p)).toFixed(3),x=f-c*g,m=Math.abs(c*N+x),d=(t[E][H].config.Ydata-t[E][H-1].config.Ydata)/Math.abs(p-g),n=t[E][H].config.Ydata%1!=0?(t[E][H].config.Ydata%1).toString().length:0,P=(t[E][H-1].config.Ydata+d*Math.abs(p-N)).toFixed(n).toString(),e[E].text.graphics.innerHTML=P,M=P.length,_=M*L+2*L,D.tooltipWidth=_,w=Math.floor(m),S=N,k=o(X,S,w,D),e[E].rect.graphics.setAttribute("width",_.toString()),e[E].rect.config.width=_.toString(),e[E].rect.graphics.setAttribute("height",C),e[E].rect.config.height=C,e[E].rect.graphics.setAttribute("x",k.pointX),e[E].rect.graphics.setAttribute("y",k.pointY-10),e[E].rect.config.x=k.pointX,e[E].rect.config.y=k.pointY,e[E].text.graphics.setAttribute("x",k.pointX+Math.floor((_-M*L)/2)),e[E].text.graphics.setAttribute("y",k.pointY+7),e[E].text.config.x=k.pointX+Math.floor((_-M*L)/2),e[E].text.config.y=k.pointY+7,e[E].rect.graphics.setAttribute("visibility","visible"),e[E].text.graphics.setAttribute("visibility","visible")))}},m.prototype.hideCrossHair=function(t,i,e,r){for(var s=0,a=t.length;s<a;s++){i[s]._hairLine.graphics.setAttribute("visibility","hidden"),i[s]._hairLine.graphics.setAttribute("x1","1"),i[s]._hairLine.graphics.setAttribute("x2","1"),e[s].rect.graphics.setAttribute("visibility","hidden"),e[s].text.graphics.setAttribute("visibility","hidden");for(var h=0,n=t[s].length;h<n;h++)t[s][h].graphics.setAttribute("style","fill:#ffffff"),t[s][h].graphics.setAttribute("r",5),t[s][h].config.r=5}},m.prototype.reset=function(t){for(var i=0,e=t.length;i<e;i++)for(var r=0,s=t[i].length;r<s;r++)t[i][r].graphics.setAttribute("style","fill:#ffffff"),t[i][r].graphics.setAttribute("r",5)},m.prototype.select=function(t){for(var i,e,r=parseInt(N.style.left),s=parseInt(N.style.top),a=r+parseInt(N.style.width),h=s+parseInt(N.style.height),n=-1,o=99999,c=0,d=t.length;c<d;c++)for(var p=0,g=t[c].length;p<g;p++)i=Number(t[c][p].config.absoluteX),e=Number(t[c][p].config.absoluteY),i>=r&&i<=a&&e>=s&&e<=h&&(t[c][p].graphics.setAttribute("fill","#f44336"),t[c][p].graphics.setAttribute("r",6),o>Number(t[c][p].config.cx)&&(o=Number(t[c][p].config.cx)),n<Number(t[c][p].config.cx)&&(n=Number(t[c][p].config.cx)));for(var c=0,d=t.length;c<d;c++)for(var p=0,g=t[c].length;p<g;p++)o<=Number(t[c][p].config.cx)&&Number(t[c][p].config.cx)<=n&&(t[c][p].graphics.setAttribute("style","fill:#f44336"),t[c][p].graphics.setAttribute("r",6))},window.render=function(t,i){var e=new a(t,i);e.customSort=function(){this.parsedJSON.data,this.parsedJSON.chart.yMap},e.render()},y.prototype.dateRangeTicks=function(){var t,i,e,r,s,a,h=this.parsedJSON,n=[];r=void 0,s=void 0;for(var o=0,c=0;o<h.data.length;o++)for(var d=0;d<h.data[o].length;d++){void 0==r&&void 0==s&&(r=new Date(h.data[o][d][0]),s=new Date(h.data[o][d][0]));var p=new Date(h.data[o][d][0]);r<p&&(r=p),s>p&&(s=p),c++}t=r.getTime()-s.getTime(),h.chart.height>=800&&(i=10),i=c<=10&&h.chart.height<800?Math.floor(t/(c-1)):Math.floor(t/9),h.chart.height<300&&(i=6),e=s,n[0]=s;for(var o=1;e<=r;o++)a=new Date(parseInt(n[o-1].getTime()+i)),a<=r&&(n[o]=a),e=a;return n},y.prototype.xAxisTicksText=function(t,i,e){var r,s,a,h,n,o=-(this.drawcomponents.marginX-this.drawcomponents.paddingX1)-1,c=0,d=this.drawcomponents.width,p=0,g="",l=i[i.length-1],m=i[0],w=this.parsedJSON.chart.width,u=this.parsedJSON.TickList.xAxis,y=0;if("column"==this.parsedJSON.chart.type&&"date"!=this.parsedJSON.chart.xAxisType&&(n=w/this.parsedJSON.TickList.xAxis.length,y=n/2-n/5),n=(w-2*y)/(this.parsedJSON.TickList.xAxis.length-1),"date"==this.parsedJSON.chart.xAxisType&&(h=i[i.length-1].getTime()-i[0].getTime()),e){if(b>0){for(var S=0;S<i.length;S++)o="date"==this.parsedJSON.chart.xAxisType?this.drawcomponents.xShift(i[S].getTime(),i[0].getTime(),h):u.indexOf(x)*n+y,c=this.drawcomponents.height-this.drawcomponents.marginY-this.drawcomponents.topMarginY-8,d=o,p=this.drawcomponents.height-this.drawcomponents.marginY-this.drawcomponents.topMarginY,r=this.drawcomponents.coordinate(o+2,p),s=this.drawcomponents.coordinate(o,c),a=this.drawcomponents.coordinate(d,p),this.drawcomponents.drawLine(s,a,"xAxis"),g=f(l,m,i[S]),this.drawcomponents.drawText(r,".35em",g,"xAxisTickText1","270");b--}}else if(this.parsedJSON.chart.yMap.length-t<b&&this.parsedJSON.chart.yMap.length-t>=0)for(var S=0;S<i.length;S++)o="date"==this.parsedJSON.chart.xAxisType?this.drawcomponents.xShift(i[S].getTime(),i[0].getTime(),h):u.indexOf(i[S])*n+y,c=-(this.drawcomponents.marginY-this.drawcomponents.marginY),d=o,p=-(this.drawcomponents.marginY-this.drawcomponents.marginY+5),r=this.drawcomponents.coordinate(o+2,p),s=this.drawcomponents.coordinate(o,c),a=this.drawcomponents.coordinate(d,p),this.drawcomponents.drawLine(s,a,"xAxis"),g="date"==this.parsedJSON.chart.xAxisType?f(l,m,i[S]):i[S],this.drawcomponents.drawText(r,".35em",g,"xAxisTickText2","270")},y.prototype.draw=function(){this.xAxisTicksText(this.chartCount,this.parsedJSON.TickList.xAxis,this.tickPosDown)},S.prototype.yRangeTicks=function(){var t,i,e,r,s,a,h,n,o,c,p,g,l,f,x=this.parsedJSON,m=0,w=0,u=[];n=1;for(var y=0;y<x.data.length;y++){r=void 0,s=void 0;for(var S=0;S<x.data[y].length;S++)void 0==r&&void 0==s&&(r=x.data[y][S][1],s=x.data[y][S][1]),r<x.data[y][S][1]&&(r=x.data[y][S][1]),s>x.data[y][S][1]&&(s=x.data[y][S][1]),h=d(x.data[y][S][1]),a<h&&(a=h);if(w=0,s<0){for(s*=-1,o=-1,l=s;l;)f=Math.floor(l%10),l=Math.floor(l/10),o++;i=(f+1)*Math.pow(10,o)*-1,m=1}else{for(o=-1,l=s;l;)f=Math.floor(l%10),l=Math.floor(l/10),o++;i=o?f*Math.pow(10,o):0}if(r<0){for(r*=-1,o=-1,l=r;l;)f=Math.floor(l%10),l=Math.floor(l/10),o++;e=o?f*Math.pow(10,o):0}else{for(o=-1,l=r;l;)f=Math.floor(l%10),l=Math.floor(l/10),o++;e=(f+1)*Math.pow(10,o)}e%1!=0&&(e=parseInt(e.toString().split(".")[0]+""+e.toString().split(".")[1].substring(0,a))),i%1!=0&&(i=parseInt(i.toString().split(".")[0]+""+i.toString().split(".")[1].substring(0,a))),1==m&&(w=i,e-=i,i=0),Math.abs(e)<1&&(n=-1),g=2,0==parseInt(e.toString()[1])&&(g=1),t=Math.floor(e/Math.pow(10,e.toString().length-g))-Math.floor(i/Math.pow(10,e.toString().length-g)),0==Math.floor(i/Math.pow(10,e.toString().length-g))&&(i=0),t>=0&&t<=1?c=.25:t>=0&&t<=1?c=.25:t>1&&t<=2?c=.5:t>2&&t<=6?c=1:t>6&&t<=12?c=2:t>12&&t<=20?c=4:t>20&&t<=30?c=5:t>30&&t<40?c=7:t>=40&&(c=10),u[y]=[],u[y][0]=i+w,p=u[y][0];for(var S=1;p<=e+w;S++)u[y][S]=u[y][S-1]+c*Math.pow(10,n*(e.toString().length-g)),p=u[y][S]}return u},S.prototype.axisLine=function(t){var i,e,r,s,a,h,n,o={},c={};i=t.length,e=Math.abs(t[i-1]-t[0]),n=t[0];for(var d=0;d<t.length;d++)r=t[0]<0?this.drawcomponents.yShift(t[d]-t[0],t[0]-t[0],e):this.drawcomponents.yShift(t[d],t[0],e),s=-(this.drawcomponents.marginX-this.drawcomponents.paddingX2-4),a=r,h=-(this.drawcomponents.marginX-this.drawcomponents.paddingX1-4),o=this.drawcomponents.coordinate(s,r),c=this.drawcomponents.coordinate(h,a),this.drawcomponents.drawLine(o,c,"yAxisTick")},S.prototype.yAxisTicksText=function(t,i){var e,r,s,a,h,n,o,c,d={},p={},g={},l={},f={},x=0,m=0,w=[];o=Math.abs(t[t.length-1]-t[0]);for(var u=0;u<t.length;u++)e=t[0]<0?this.drawcomponents.yShift(t[u]-t[0],t[0]-t[0],o):this.drawcomponents.yShift(t[u],t[0],o),r=-(this.drawcomponents.marginX-this.drawcomponents.paddingX2-4),s=e,a=-(this.drawcomponents.marginX-this.drawcomponents.paddingX1-4),g=this.drawcomponents.coordinate(r,e),l=this.drawcomponents.coordinate(a,s),"number"==typeof t[u]&&(Math.abs(t[u])<1e3&&(d=this.drawcomponents.coordinate(-(this.drawcomponents.marginX-this.drawcomponents.paddingTextX-8),e-4),c=t[t.length-1]<1?t[t.length-1].toString().length-2:2,n=0==t[u]?"0":t[u]%1==0?t[u].toString():t[u].toFixed(c).toString()),Math.abs(t[u])>=1e3&&Math.abs(t[u])<1e6&&(n=t[u]/1e3+"K"),Math.abs(t[u])>=1e6&&Math.abs(t[u])<1e9&&(n=t[u]/1e6+"M"),Math.abs(t[u])>=1e9&&Math.abs(t[u])<1e12&&(n=t[u]/1e9+"B"),Math.abs(t[u])>=1e12&&(n=t[u]/1e12+"T")),void 0==i&&(p=this.drawcomponents.coordinate(-1,e),g=this.drawcomponents.coordinate(this.drawcomponents.width,e),l=this.drawcomponents.coordinate(this.drawcomponents.width,m),f=this.drawcomponents.coordinate(-1,m),h=p.x+","+p.y+" "+g.x+","+g.y+" "+l.x+","+l.y+" "+f.x+","+f.y+" "+p.x+","+p.y,0!=u&&(x%2==0?this.drawcomponents.drawPolygon(h,"divDash1"):this.drawcomponents.drawPolygon(h,"divDash2")),x++,m=e),d=this.drawcomponents.coordinate(-(this.drawcomponents.marginX-this.drawcomponents.paddingTextX-8),e-5),w[u]=this.drawcomponents.drawText(d,".35em",n,"yAxisTickText");return w},S.prototype.title=function(t,i){var e,r,s,a,h,n;return t?(s=this.drawcomponents.coordinate(-1,-this.drawcomponents.marginY+2),a=this.drawcomponents.coordinate(this.drawcomponents.width,-this.drawcomponents.marginY+2),h=this.drawcomponents.coordinate(this.drawcomponents.width,-this.drawcomponents.marginY+37),n=this.drawcomponents.coordinate(-1,-this.drawcomponents.marginY+37),e=s.x+","+s.y+" "+a.x+","+a.y+" "+h.x+","+h.y+" "+n.x+","+n.y+" "+s.x+","+s.y,this.drawcomponents.drawPolygon(e,"titles"),r={x:(h.x+this.drawcomponents.marginX)/2,y:h.y+27}):(s=this.drawcomponents.coordinate(-1,this.drawcomponents.height-this.drawcomponents.topMarginY-30),a=this.drawcomponents.coordinate(this.drawcomponents.width,this.drawcomponents.height-this.drawcomponents.topMarginY-30),h=this.drawcomponents.coordinate(this.drawcomponents.width,this.drawcomponents.height-this.drawcomponents.topMarginY-78),n=this.drawcomponents.coordinate(-1,this.drawcomponents.height-this.drawcomponents.topMarginY-78),e=s.x+","+s.y+" "+a.x+","+a.y+" "+h.x+","+h.y+" "+n.x+","+n.y+" "+s.x+","+s.y,this.drawcomponents.drawPolygon(e,"titles"),r={x:(h.x+this.drawcomponents.marginX)/2,y:h.y-15}),this.drawcomponents.drawText(r,".5em",i,"yAxisTitle","0")},S.prototype.draw=function(){this.axisLine(this.parsedJSON.TickList.yAxis[this.iChart]),this.yAxisTicksText(this.parsedJSON.TickList.yAxis[this.iChart]),this.title(this.tickPosDown,this.parsedJSON.chart.yMap[this.iChart].toUpperCase())}}();